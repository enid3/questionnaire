(function(e){function t(t){for(var r,c,i=t[0],s=t[1],l=t[2],b=0,d=[];b<i.length;b++)c=i[b],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&d.push(a[c][0]),a[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);u&&u(t);while(d.length)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("ac1f"),n("466d"),n("f9e3"),n("cd74");var r=n("7a23"),a=n("5502"),o={class:"bg-white"},c={class:"container-fluid pt-5 justify-content-center"};function i(e,t,n,a,i,s){var l=Object(r["I"])("navigation-header"),u=Object(r["I"])("router-view");return Object(r["z"])(),Object(r["f"])(r["a"],null,[Object(r["g"])("header",o,[Object(r["i"])(l)]),Object(r["g"])("main",null,[Object(r["g"])("div",c,[Object(r["i"])(u)])])],64)}var s={class:"navbar navbar-expand-lg navbar-light ms-5 me-5"},l={class:"container-fluid"},u={class:"navbar-brand"},b=Object(r["g"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(r["g"])("span",{class:"navbar-toggler-icon"})],-1),d={id:"navbarSupportedContent",class:"collapse navbar-collapse"},m={class:"navbar-nav ms-auto"},p={class:"nav-item"},O=Object(r["h"])(" Fields "),j={class:"nav-item"},f=Object(r["h"])(" Responses "),g={class:"nav-item dropdown"},h={class:"nav-link dropdown-toggle",id:"navbarDropdownMenuLink",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},v={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"navbarDropdownMenuLink"},y=Object(r["h"])(" Edit Profile "),I=Object(r["h"])(" Change Password "),S={key:1,class:"nav-item"},P=Object(r["h"])(" Log in ");function w(e,t,n,a,o,c){var i=Object(r["I"])("Logotype"),w=Object(r["I"])("router-link");return Object(r["z"])(),Object(r["f"])("nav",s,[Object(r["g"])("div",l,[Object(r["g"])("div",u,[Object(r["i"])(i)]),b,Object(r["g"])("div",d,[Object(r["g"])("ul",m,[e.isAuth?(Object(r["z"])(),Object(r["f"])(r["a"],{key:0},[Object(r["g"])("li",p,[Object(r["i"])(w,{class:"nav-link",to:"/fields"},{default:Object(r["W"])((function(){return[O]})),_:1})]),Object(r["g"])("li",j,[Object(r["i"])(w,{class:"nav-link",to:"/responses"},{default:Object(r["W"])((function(){return[f]})),_:1})]),Object(r["g"])("li",g,[Object(r["g"])("a",h,Object(r["L"])(e.user?(e.user.firstName||"???")+" "+(e.user.lastName||"???"):"Profile"),1),Object(r["g"])("ul",v,[Object(r["g"])("li",null,[Object(r["i"])(w,{class:"dropdown-item",to:"/editProfile"},{default:Object(r["W"])((function(){return[y]})),_:1})]),Object(r["g"])("li",null,[Object(r["i"])(w,{class:"dropdown-item",to:"/changePassword"},{default:Object(r["W"])((function(){return[I]})),_:1})]),Object(r["g"])("li",null,[Object(r["g"])("button",{class:"dropdown-item",type:"submit",onClick:t[0]||(t[0]=function(){return e.logout&&e.logout.apply(e,arguments)})}," Log Out ")])])])],64)):(Object(r["z"])(),Object(r["f"])("li",S,[Object(r["i"])(w,{class:"nav-link",to:"/login"},{default:Object(r["W"])((function(){return[P]})),_:1})]))])])])])}var k=n("5530"),F=Object(r["g"])("h1",null,"Logotype",-1),B=[F];function z(e,t,n,a,o,c){return Object(r["z"])(),Object(r["f"])("div",null,B)}var x={name:"Logotype"},T=n("6b0d"),R=n.n(T);const C=R()(x,[["render",z]]);var N=C,L={name:"NavigationHeader",computed:Object(k["a"])({},Object(a["c"])(["isAuth","user"])),components:{Logotype:N},methods:Object(k["a"])(Object(k["a"])({},Object(a["b"])(["logout"])),{},{onLogout:function(){this.logout()}})};const A=R()(L,[["render",w]]);var E=A,_=n("6c02"),V={class:"row justify-content-around"},U=Object(r["g"])("div",{class:"col-auto"},[Object(r["g"])("h3",null,"Fields")],-1),W={class:"col-auto ms-auto"},$=Object(r["g"])("i",{class:"bi bi-plus"},null,-1),D=Object(r["h"])(" Add field "),M=[$,D],q={class:"justify-content-end row"},G=["onClick"],H=Object(r["g"])("i",{class:"bi-pencil-square"},null,-1),X=[H],K=["onClick"],J=Object(r["g"])("i",{class:"bi-trash-fill"},null,-1),Q=[J],Z={class:"modal fade",id:"saveFieldModal",tabindex:"-1"},Y={class:"modal-dialog"},ee={class:"modal-content"},te={class:"modal-header"},ne={class:"modal-title"},re={ref:"dismissButton",type:"button",class:"btn-close","data-bs-dismiss":"modal"},ae={class:"modal-body"};function oe(e,t,n,a,o,c){var i=Object(r["I"])("DataTable"),s=Object(r["I"])("PaginationFooter"),l=Object(r["I"])("TablePageLayout"),u=Object(r["I"])("ManageFieldForm");return Object(r["z"])(),Object(r["f"])("div",null,[Object(r["i"])(l,null,{header:Object(r["W"])((function(){return[Object(r["g"])("div",V,[U,Object(r["g"])("div",W,[Object(r["g"])("div",{class:"btn btn-primary",onClick:t[0]||(t[0]=function(e){o.saveModalTitle="Add field",o.initialField={label:"",type:"",options:[],isRequired:!0,isActive:!0},o.editedId=-1}),"data-bs-toggle":"modal","data-bs-target":"#saveFieldModal"},M)])])]})),body:Object(r["W"])((function(){return[Object(r["i"])(i,{fields:o.tableFields,items:o.fieldsArray,busy:!o.isTableReady},{"cell(type)":Object(r["W"])((function(e){return[Object(r["h"])(Object(r["L"])(o.fieldTypes[e.value]),1)]})),"cell(modify)":Object(r["W"])((function(e){return[Object(r["g"])("div",q,[Object(r["g"])("button",{onClick:function(t){o.saveModalTitle="Edit",o.initialField=e.item,o.editedId=e.item.id},class:"btn col-auto p-1","data-bs-toggle":"modal","data-bs-target":"#saveFieldModal"},X,8,G),Object(r["g"])("button",{class:"btn col-auto p-1 me-2",onClick:function(t){return c.deleteField(e.item.id)}},Q,8,K)])]})),_:1},8,["fields","items","busy"])]})),footer:Object(r["W"])((function(){return[Object(r["i"])(s,{currentPage:o.currentPage,"onUpdate:currentPage":t[1]||(t[1]=function(e){return o.currentPage=e}),pageSize:o.pageSize,"onUpdate:pageSize":t[2]||(t[2]=function(e){return o.pageSize=e}),"total-elements":o.totalElements,"elements-on-page":o.elementsOnPage,"total-pages":o.totalPages,"page-sizes":[25,10,5,3,2],onChange:t[3]||(t[3]=function(e){return c.fetchFields()})},null,8,["currentPage","pageSize","total-elements","elements-on-page","total-pages"])]})),_:1}),Object(r["g"])("div",Z,[Object(r["g"])("div",Y,[Object(r["g"])("div",ee,[Object(r["g"])("div",te,[Object(r["g"])("h5",ne,Object(r["L"])(o.saveModalTitle),1),Object(r["g"])("button",re,null,512)]),Object(r["g"])("div",ae,[Object(r["i"])(u,{onSubmit:c.addField,editedId:o.editedId,initialValues:o.initialField,ref:"manageFieldForm"},null,8,["onSubmit","editedId","initialValues"])])])])])])}var ce=n("1da1");n("96cf"),n("841c"),n("d3b7"),n("25f0"),n("3ca3"),n("ddb0"),n("9861"),n("7db0"),n("c740"),n("a434");function ie(e,t,n,r,a,o){return null}n("a9e3");var se={name:"DeleteFieldButton",methods:{deleteById:function(e){console.log("deleting "+e+" ...")}},props:{fieldId:Number}};const le=R()(se,[["render",ie]]);var ue=le,be={SINGLE_LINE_TEXT:"Single line text",MULTILINE_TEXT:"Multiline text",RADIO_BUTTON:"Radio button",CHECKBOX:"Checkbox",COMBOBOX:"Combobox",DATE:"Date"},de=be,me={class:"table table-striped","aria-busy":"true"},pe={scope:"col"},Oe=Object(r["g"])("div",{class:"text-center"},[Object(r["g"])("div",{class:"spinner-border align-middle text-primary",role:"status"},[Object(r["g"])("span",{class:"visually-hidden"},"Loading...")]),Object(r["h"])(" Loading... ")],-1);function je(e,t,n,a,o,c){return Object(r["z"])(),Object(r["f"])("table",me,[Object(r["g"])("thead",null,[Object(r["g"])("tr",null,[(Object(r["z"])(!0),Object(r["f"])(r["a"],null,Object(r["G"])(n.fields,(function(e){return Object(r["z"])(),Object(r["f"])("th",pe,Object(r["L"])(e.label),1)})),256))])]),Object(r["g"])("tbody",null,[n.busy?Object(r["H"])(e.$slots,"table-busy",{key:1},(function(){return[Oe]})):(Object(r["z"])(!0),Object(r["f"])(r["a"],{key:0},Object(r["G"])(n.items,(function(t,a){return Object(r["z"])(),Object(r["f"])("tr",null,[(Object(r["z"])(!0),Object(r["f"])(r["a"],null,Object(r["G"])(n.fields,(function(n){return Object(r["z"])(),Object(r["f"])("td",null,[Object(r["H"])(e.$slots,"cell("+n.key+")",{index:a,item:t,value:t[n.key]||""},(function(){return[Object(r["H"])(e.$slots,"default",{index:a,value:t[n.key]},(function(){return[Object(r["h"])(Object(r["L"])(t.hasOwnProperty(n.key)?t[n.key]:"N/A"),1)]}))]}))])})),256))])})),256))])])}var fe={name:"DataTable",props:{fields:Array,items:Array,busy:Boolean}};const ge=R()(fe,[["render",je]]);var he=ge,ve={class:"row"},ye={class:"col-auto me-auto mb-auto mt-auto"},Ie={class:"col-auto"},Se={class:"col-auto ms-auto"};function Pe(e,t,n,a,o,c){var i=Object(r["I"])("PageRepresentationStatus"),s=Object(r["I"])("Pagination"),l=Object(r["I"])("PageSizeSelector");return Object(r["z"])(),Object(r["f"])("div",ve,[Object(r["g"])("div",ye,[Object(r["i"])(i,{"current-page":n.currentPage,"elements-per-page":n.pageSize,"elements-on-page":n.elementsOnPage,"total-elements":n.totalElements},null,8,["current-page","elements-per-page","elements-on-page","total-elements"])]),Object(r["g"])("div",Ie,[Object(r["i"])(s,{"model-value":n.currentPage,"onUpdate:modelValue":c.onCurrentPageUpdated,"total-pages":n.totalPages},null,8,["model-value","onUpdate:modelValue","total-pages"])]),Object(r["g"])("div",Se,[Object(r["i"])(l,{modelValue:n.pageSize,"onUpdate:modelValue":c.onPageSizeUpdated,sizes:n.pageSizes},null,8,["modelValue","onUpdate:modelValue","sizes"])])])}function we(e,t,n,a,o,c){return Object(r["z"])(),Object(r["f"])("span",null,Object(r["L"])(c.firstElement)+"-"+Object(r["L"])(c.lastElement)+" of "+Object(r["L"])(n.totalElements),1)}var ke={name:"PageRepresentationStatus",props:{currentPage:Number,elementsPerPage:Number,elementsOnPage:Number,totalElements:Number},computed:{firstElement:function(){return this.currentPage*this.elementsPerPage+Math.min(1,this.totalElements)},lastElement:function(){return this.currentPage*this.elementsPerPage+this.elementsOnPage}}};const Fe=R()(ke,[["render",we]]);var Be=Fe,ze=Object(r["g"])("option",{value:99999999},"All",-1),xe=["value"];function Te(e,t,n,a,o,c){return Object(r["X"])((Object(r["z"])(),Object(r["f"])("select",{class:"form-select","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.pageSize=e})},[ze,(Object(r["z"])(!0),Object(r["f"])(r["a"],null,Object(r["G"])(n.sizes,(function(e){return Object(r["z"])(),Object(r["f"])("option",{key:e,value:e},Object(r["L"])(e),9,xe)})),128))],512)),[[r["Q"],c.pageSize]])}var Re={name:"PageSizeSelector",props:{modelValue:Number,sizes:Array},computed:{pageSize:{get:function(){return this.modelValue},set:function(e){console.log("perPage changed to: "+e),this.$emit("update:modelValue",e)}}},emits:["update:modelValue"]};const Ce=R()(Re,[["render",Te]]);var Ne=Ce,Le={class:"pagination pb-0 mb-0"},Ae={class:"page-item"},Ee=Object(r["g"])("span",null,"«",-1),_e=[Ee],Ve=["onClick"],Ue={class:"page-link"},We={class:"page-item"},$e=Object(r["g"])("span",null,"»",-1),De=[$e];function Me(e,t,n,a,o,c){return Object(r["z"])(),Object(r["f"])("ul",Le,[Object(r["g"])("li",Ae,[Object(r["g"])("a",{class:"page-link",onClick:t[0]||(t[0]=function(e){return c.currentPage=0})},_e)]),(Object(r["z"])(!0),Object(r["f"])(r["a"],null,Object(r["G"])(n.totalPages,(function(e){return Object(r["z"])(),Object(r["f"])("li",{key:e,class:Object(r["s"])(["page-item",{active:c.currentPage===e-1}]),onClick:function(t){return c.currentPage=e-1}},[Object(r["g"])("a",Ue,Object(r["L"])(e),1)],10,Ve)})),128)),Object(r["g"])("li",We,[Object(r["g"])("a",{class:"page-link",onClick:t[1]||(t[1]=function(e){return c.currentPage=n.totalPages-1})},De)])])}var qe={name:"Pagination",props:{modelValue:Number,totalPages:Number},computed:{currentPage:{get:function(){return this.modelValue},set:function(e){console.log("currentPage changed to: "+e),this.$emit("update:modelValue",e)}}},emits:["update:modelValue"],updated:function(){console.log("Pagination updated")},watch:{totalPages:function(e){this.currentPage=0}}};const Ge=R()(qe,[["render",Me]]);var He=Ge,Xe={name:"PaginationFooter",props:{currentPage:Number,pageSize:Number,elementsOnPage:Number,totalPages:Number,totalElements:Number,pageSizes:Array},methods:{onPageSizeUpdated:function(e){console.log("before emmiting currentPage"),this.$emit("update:pageSize",e)},onCurrentPageUpdated:function(e){console.log("before emmiting pagintaion"),this.$emit("update:currentPage",e)}},emits:["update:pageSize","update:currentPage"],components:{PageRepresentationStatus:Be,PageSizeSelector:Ne,Pagination:He}};const Ke=R()(Xe,[["render",Pe]]);var Je=Ke,Qe={class:"container-sm p-0"},Ze={class:"col-9"},Ye={class:"col-9"},et={class:"col-9"},tt={class:"row justify-content-center"},nt={class:"col-auto"},rt=Object(r["h"])(" Required "),at={class:"col-auto"},ot=Object(r["h"])(" Active "),ct={class:"d-flex justify-content-end align-items-center"},it=Object(r["h"])("Save");function st(e,t,n,a,o,c){var i=Object(r["I"])("BFormInput"),s=Object(r["I"])("BInvalidFeedback"),l=Object(r["I"])("BFormGroup"),u=Object(r["I"])("BFormSelect"),b=Object(r["I"])("OptionsInput"),d=Object(r["I"])("BFormCheckbox"),m=Object(r["I"])("BSubmit"),p=Object(r["I"])("server-side-error"),O=Object(r["I"])("BForm");return Object(r["z"])(),Object(r["d"])(O,{onSubmit:c.onSaveField,"validation-schema":c.schema},{default:Object(r["W"])((function(e){var n=e.values;return[Object(r["h"])(Object(r["L"])(n)+" ",1),Object(r["g"])("div",Qe,[Object(r["i"])(l,{class:"row justify-content-sm-start",label:"Label","label-cols":"3"},{default:Object(r["W"])((function(){return[Object(r["g"])("div",Ze,[Object(r["i"])(i,{name:"label"}),Object(r["i"])(s,{name:"label"})])]})),_:1}),Object(r["h"])(" "+Object(r["L"])(o.type)+" ",1),Object(r["i"])(l,{class:"row justify-content-sm-start",label:"Type","label-cols":"3"},{default:Object(r["W"])((function(){return[Object(r["g"])("div",Ye,[Object(r["i"])(u,{name:"type",modelValue:o.type,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.type=e}),options:c.fieldOptions},null,8,["modelValue","options"]),Object(r["i"])(s,{name:"type"})])]})),_:1}),Object(r["i"])(l,{class:"row justify-content-sm-start",label:"Options","label-cols":"3"},{default:Object(r["W"])((function(){return[Object(r["g"])("div",et,[Object(r["i"])(b,{name:"options",disabled:!c.isOptionsAvailable(n.type)},null,8,["disabled"]),Object(r["i"])(s,{name:"options"})])]})),_:2},1024),Object(r["g"])("div",tt,[Object(r["g"])("div",nt,[Object(r["i"])(d,{name:"isRequired"},{default:Object(r["W"])((function(){return[rt]})),_:1})]),Object(r["g"])("div",at,[Object(r["i"])(d,{name:"isActive"},{default:Object(r["W"])((function(){return[ot]})),_:1})])]),Object(r["g"])("div",ct,[Object(r["i"])(m,{class:"btn btn-primary ms-1 me-1 mt-2"},{default:Object(r["W"])((function(){return[it]})),_:1})]),Object(r["i"])(p,{class:"m-2",error:o.error},null,8,["error"])])]})),_:1},8,["onSubmit","validation-schema"])}n("1276"),n("caad");var lt=function(e){return Object(r["C"])("data-v-13d8094e"),e=e(),Object(r["A"])(),e},ut={key:0,class:"mb-2 bg-secondary bg-light p-1 border"},bt={class:"badge rounded-pill bg-primary ms-1 mt-1"},dt={class:"option align-baseline"},mt=["onClick"],pt={class:"row"},Ot={class:"col-11"},jt=lt((function(){return Object(r["g"])("i",{class:"bi bi-arrow-clockwise"},null,-1)})),ft=[jt];function gt(e,t,n,a,o,c){return Object(r["z"])(),Object(r["f"])("div",{class:Object(r["s"])(["flex-fill",{"disable-div":n.disabled,"is-invalid":a.meta.touched&!a.meta.valid}])},[c.options.length?(Object(r["z"])(),Object(r["f"])("div",ut,[(Object(r["z"])(!0),Object(r["f"])(r["a"],null,Object(r["G"])(c.options,(function(e,t){return Object(r["z"])(),Object(r["f"])("div",bt,[Object(r["g"])("span",dt,Object(r["L"])(e),1),Object(r["g"])("button",{class:"btn-close",onClick:Object(r["Z"])((function(){return c.remove(t)}),["prevent"])},null,8,mt)])})),256))])):Object(r["e"])("",!0),Object(r["g"])("div",pt,[Object(r["g"])("div",Ot,[Object(r["X"])(Object(r["g"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.newOption=e}),onKeydown:t[1]||(t[1]=Object(r["Y"])(Object(r["Z"])((function(){return c.submitOption&&c.submitOption.apply(c,arguments)}),["prevent"]),["enter"]))},null,544),[[r["R"],o.newOption]])]),Object(r["g"])("button",{class:"btn p-0 col-1",type:"button",onClick:t[2]||(t[2]=Object(r["Z"])((function(){return c.resetOptions&&c.resetOptions.apply(c,arguments)}),["prevent"]))},ft)])],2)}n("b0c0"),n("498a");var ht=n("7bb1"),vt={props:{modelValue:{type:Array},name:{type:String,required:!0},disabled:{type:Boolean,default:!1}},setup:function(e,t){var n=Object(ht["d"])(e.name,void 0,{initialValue:e.modelValue}),r=n.value,a=n.errorMessage,o=n.handleBlur,c=n.handleChange,i=n.meta;return{handleChange:c,handleBlur:o,errorMessage:a,inputValue:r,meta:i}},data:function(){return{newOption:""}},computed:{options:{get:function(){return this.inputValue},set:function(e){this.handleChange(e),this.$emit("update:modelValue",e)}}},methods:{remove:function(e,t){console.log(t),this.options.splice(e,1)},submitOption:function(e){var t=this.newOption.trim();t&&(this.options.push(this.newOption.trim()),this.newOption="")},resetOptions:function(){this.options=[]}},emits:["update:modelValue"]};n("83e6");const yt=R()(vt,[["render",gt],["__scopeId","data-v-13d8094e"]]);var It=yt,St={class:"invalid-feedback"};function Pt(e,t,n,a,o,c){var i=Object(r["I"])("ErrorMessage");return Object(r["z"])(),Object(r["f"])("div",St,[Object(r["i"])(i,{as:"",name:n.name},null,8,["name"])])}var wt={name:"BInvalidFeedback",props:{name:{type:String,required:!0}},components:{ErrorMessage:ht["a"]}};const kt=R()(wt,[["render",Pt]]);var Ft=kt,Bt={class:"mt-2 mb-2 ms-1 me-1"},zt=["for"],xt={class:"text-secondary"};function Tt(e,t,n,a,o,c){return Object(r["z"])(),Object(r["f"])("div",Bt,[n.label?(Object(r["z"])(),Object(r["f"])("label",{key:0,class:Object(r["s"])(["col-"+n.labelCols,"form-label"]),for:n.labelFor},[Object(r["g"])("span",xt,Object(r["L"])(n.label),1)],10,zt)):Object(r["e"])("",!0),Object(r["H"])(e.$slots,"default")])}var Rt={name:"BFormGroup",props:{label:String,labelFor:String,labelCols:String}};const Ct=R()(Rt,[["render",Tt]]);var Nt=Ct;function Lt(e,t,n,a,o,c){var i=Object(r["I"])("Form");return Object(r["z"])(),Object(r["d"])(i,null,{default:Object(r["W"])((function(t){return[Object(r["H"])(e.$slots,"default",Object(r["t"])(Object(r["l"])(t)))]})),_:3})}var At={name:"BForm",components:{Form:ht["c"]}};const Et=R()(At,[["render",Lt]]);var _t=Et,Vt=["placeholder","type"];function Ut(e,t,n,a,o,c){var i=Object(r["I"])("Field");return Object(r["z"])(),Object(r["d"])(i,{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.value=e})},{default:Object(r["W"])((function(e){var t=e.field,a=e.meta;return[Object(r["g"])("input",Object(r["q"])({class:[{"is-invalid":a.touched&!a.valid},"form-control"],placeholder:n.placeholder,type:n.type},t),null,16,Vt)]})),_:1},8,["modelValue"])}var Wt={name:"BFormInput",props:{modelValue:String,placeholder:String,type:String},computed:{value:{get:function(){return this.modelValue},set:function(e){this.$emit("update:modelValue",e)}}},emits:["update:modelValue"],components:{Field:ht["b"]}};const $t=R()(Wt,[["render",Ut]]);var Dt=$t,Mt=n("53ca"),qt=Object(r["g"])("option",{value:""}," Please select one ",-1),Gt=["value"],Ht=["value"];function Xt(e,t,n,a,o,c){var i=Object(r["I"])("Field");return Object(r["z"])(),Object(r["d"])(i,{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.value=e})},{default:Object(r["W"])((function(e){var t=e.field,a=e.meta;return[Object(r["g"])("select",Object(r["q"])({class:[{"is-invalid":a.touched&!a.valid},"form-select"]},t),[qt,(Object(r["z"])(!0),Object(r["f"])(r["a"],null,Object(r["G"])(n.options,(function(e,t){return Object(r["z"])(),Object(r["f"])(r["a"],null,["object"===Object(Mt["a"])(e)?(Object(r["z"])(),Object(r["f"])("option",{key:"obj-"+t,value:e.value},Object(r["L"])(e.text),9,Gt)):"string"===typeof e?(Object(r["z"])(),Object(r["f"])("option",{key:t,value:e},Object(r["L"])(e),9,Ht)):Object(r["e"])("",!0)],64)})),256))],16)]})),_:1},8,["modelValue"])}var Kt={name:"BFormSelect",props:{modelValue:String,options:Array},computed:{value:{get:function(){return this.modelValue},set:function(e){this.$emit("update:modelValue",e)}}},emits:["update:modelValue"],components:{Field:ht["b"]}};const Jt=R()(Kt,[["render",Xt]]);var Qt=Jt,Zt={class:"form-check"},Yt={class:"form-check-label"};function en(e,t,n,a,o,c){return Object(r["z"])(),Object(r["f"])("div",Zt,[Object(r["X"])(Object(r["g"])("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.value=e})},null,512),[[r["O"],c.value]]),Object(r["g"])("label",Yt,[Object(r["H"])(e.$slots,"default")])])}var tn={name:"BFormCheckbox",props:{modelValue:{type:Boolean},name:{type:String,required:!0}},setup:function(e,t){var n=Object(ht["d"])(e.name,void 0,{initialValue:e.modelValue}),r=n.value,a=n.errorMessage,o=n.handleBlur,c=n.handleChange,i=n.meta;return{handleChange:c,handleBlur:o,errorMessage:a,inputValue:r,meta:i}},computed:{value:{get:function(){return this.inputValue},set:function(e){this.handleChange(e),this.$emit("update:modelValue",e)}}},components:{Field:ht["b"]},emits:["update:modelValue"]};const nn=R()(tn,[["render",en]]);var rn=nn,an={class:"btn btn-primary",type:"submit"};function on(e,t,n,a,o,c){return Object(r["z"])(),Object(r["f"])("button",an,[Object(r["H"])(e.$slots,"default")])}var cn={name:"BSubmit"};const sn=R()(cn,[["render",on]]);var ln=sn,un=n("506a"),bn={key:0,class:"alert alert-danger text-center",role:"alert"};function dn(e,t,n,a,o,c){return n.error?(Object(r["z"])(),Object(r["f"])("div",bn,Object(r["L"])(n.error),1)):Object(r["e"])("",!0)}var mn={name:"ServerSideError",props:{error:{type:String,required:!0}}};const pn=R()(mn,[["render",dn]]);var On=pn;function jn(e){console.log("checking for: "+e);var t=0;switch(e){case"RADIO_BUTTON":case"COMBOBOX":t=2;break;case"CHECKBOX":t=1;break;default:t=0}return t}var fn={name:"ManageFieldForm",components:{BSubmit:ln,BFormCheckbox:rn,BFormSelect:Qt,OptionsInput:It,BForm:_t,BFormInput:Dt,BFormGroup:Nt,BInvalidFeedback:Ft,Field:ht["b"],ServerSideError:On},props:{editedId:{type:Number,required:!0}},data:function(){return{fieldTypes:de,type:"",error:""}},computed:Object(k["a"])(Object(k["a"])({},Object(a["c"])(["apiUrl","fetchInit"])),{},{fieldOptions:function(){var e=[];for(var t in de)e.push({text:de[t],value:t});return e},schema:function(){var e=this;return{label:un["string"]().required().min(2).max(20),type:un["string"]().required(),options:function(t){var n=jn(e.type);return!(t.length<n)||"Required at least "+n+" options"}}}}),methods:{onSaveField:function(e,t){var n=this;return Object(ce["a"])(regeneratorRuntime.mark((function r(){var a,o,c,i,s,l,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.resetForm,console.log("saving ..."),console.log(e),o=Object.assign({},e),o.options&&"string"===typeof o.options&&(o.options=o.options.split("\n")),console.log("id: "+n.editedId),c="post",i=n.apiUrl("/field"),-1!==n.editedId&&(c="put",i=n.apiUrl("/field/"+n.editedId),o.id=n.editedId),r.next=11,fetch(i,n.fetchInit(c,o));case 11:return s=r.sent,n.error="",r.next=15,s.json();case 15:l=r.sent,s.ok?(u=l,a(),n.$emit("submit",u)):n.error=l.message;case 17:case"end":return r.stop()}}),r)})))()},isOptionsAvailable:function(e){return["RADIO_BUTTON","CHECKBOX","COMBOBOX"].includes(e)},submit:function(){console.log(this.$refs.bform)}},emits:["submit"]};const gn=R()(fn,[["render",st]]);var hn=gn,vn={class:"container-md"},yn={class:"card"},In={key:0,class:"card-header"},Sn={key:1,class:"card-body"},Pn={key:2,class:"card-footer"};function wn(e,t,n,a,o,c){return Object(r["z"])(),Object(r["f"])("div",vn,[Object(r["g"])("div",yn,[e.$slots.header?(Object(r["z"])(),Object(r["f"])("div",In,[Object(r["H"])(e.$slots,"header")])):Object(r["e"])("",!0),e.$slots.body?(Object(r["z"])(),Object(r["f"])("div",Sn,[Object(r["H"])(e.$slots,"body")])):Object(r["e"])("",!0),e.$slots.footer?(Object(r["z"])(),Object(r["f"])("div",Pn,[Object(r["H"])(e.$slots,"footer")])):Object(r["e"])("",!0)])])}var kn={name:"TablePageLayout"};const Fn=R()(kn,[["render",wn]]);var Bn=Fn,zn={name:"Fields",data:function(){return{fieldTypes:de,isTableReady:!1,currentPage:0,pageSize:10,totalElements:0,elementsOnPage:0,totalPages:0,initialField:{label:"label",type:"",options:[],isRequired:!0,isActive:!0},editedId:-1,tableFields:[{key:"label",label:"Label"},{key:"type",label:"Type"},{key:"isRequired",label:"Required"},{key:"isActive",label:"Active"},{key:"modify",label:""}],fieldsArray:[],saveModalTitle:"",fieldToDelete:{label:"",type:"DATE",options:[]}}},methods:{fetchFields:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isTableReady=!1,e.fieldsArray=null,n=e.apiUrl("/field"),r={page:e.currentPage,size:e.pageSize},n.search=new URLSearchParams(r).toString(),t.next=7,fetch(n,e.fetchInit("get"));case 7:if(a=t.sent,!a.ok){t.next=19;break}return t.next=11,a.json();case 11:o=t.sent,e.totalPages=o.totalPages,e.totalElements=o.totalElements,e.elementsOnPage=o.numberOfElements,e.fieldsArray=o.content,e.isLast=o.last,t.next=19;break;case 19:console.log(e.fieldsArray),e.isTableReady=!0;case 21:case"end":return t.stop()}}),t)})))()},addField:function(e){var t=this;if(console.log(this.$refs.manageFieldForm),-1!==this.editedId){var n=this.fieldsArray.find((function(e){return e.id===t.editedId}));n.label=e.label,n.type=e.type,n.options=e.options,n.isRequired=e.isRequired,n.isActive=e.isActive}else console.log(e),this.fieldsArray.push(e);this.dismiss()},deleteField:function(e){var t=this;return Object(ce["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.apiUrl("/field/"+e),n.next=3,fetch(r,t.fetchInit("delete"));case 3:a=n.sent,a.ok&&(o=t.fieldsArray.findIndex((function(t){return t.id===e})),console.log(o),o>=0&&t.fieldsArray.splice(o,1)),t.isTableReady=!0;case 6:case"end":return n.stop()}}),n)})))()},dismiss:function(){console.log("dismiss"),this.$refs.dismissButton.click()}},computed:Object(k["a"])({},Object(a["c"])(["apiUrl","fetchInit"])),watch:{currentPage:function(e,t){this.fetchFields()}},mounted:function(){this.fetchFields()},components:{TablePageLayout:Bn,ManageFieldForm:hn,PaginationFooter:Je,DataTable:he,DeleteFieldButton:ue}};const xn=R()(zn,[["render",oe]]);var Tn=xn,Rn=(n("2532"),{class:"row mt-0 mb-0 ms-1 me-1"}),Cn=Object(r["g"])("button",{class:"btn btn-primary col-auto me-auto"}," Save ",-1),Nn=["onClick"],Ln=Object(r["g"])("i",{class:"bi bi-arrow-clockwise"},null,-1),An=Object(r["h"])("Reset "),En=[Ln,An];function _n(e,t,n,a,o,c){var i=Object(r["I"])("b-form-input"),s=Object(r["I"])("b-form-text-area"),l=Object(r["I"])("b-form-radio-group"),u=Object(r["I"])("b-form-checkbox-group"),b=Object(r["I"])("b-form-select"),d=Object(r["I"])("ErrorMessage"),m=Object(r["I"])("b-form-group"),p=Object(r["I"])("b-form"),O=Object(r["I"])("ServerSideError"),j=Object(r["I"])("DataInputPageLayout");return Object(r["z"])(),Object(r["d"])(j,null,{body:Object(r["W"])((function(){return[Object(r["i"])(p,{onSubmit:c.onSubmitResponse,onInvalidSubmit:c.onInvalidSubmit,"validation-schema":c.schema},{default:Object(r["W"])((function(e){var t=e.values,n=e.resetForm;return[Object(r["h"])(Object(r["L"])(t)+" ",1),(Object(r["z"])(!0),Object(r["f"])(r["a"],null,Object(r["G"])(c.sortedFields,(function(e){return Object(r["z"])(),Object(r["d"])(m,{label:e.label},{default:Object(r["W"])((function(){return[o.groupableFieldTypes.includes(e.type)?(Object(r["z"])(),Object(r["d"])(i,{key:0,type:c.getFieldTypeInput(e.type),name:""+e.id},null,8,["type","name"])):"MULTILINE_TEXT"===e.type?(Object(r["z"])(),Object(r["d"])(s,{key:1,name:""+e.id,rows:"3"},null,8,["name"])):"RADIO_BUTTON"===e.type?(Object(r["z"])(),Object(r["d"])(l,{key:2,name:""+e.id,options:e.options},null,8,["name","options"])):"CHECKBOX"===e.type?(Object(r["z"])(),Object(r["d"])(u,{key:3,name:""+e.id,options:e.options},null,8,["name","options"])):"COMBOBOX"===e.type?(Object(r["z"])(),Object(r["d"])(b,{key:4,options:e.options,name:""+e.id},null,8,["options","name"])):Object(r["e"])("",!0),Object(r["i"])(d,{class:"alert-danger",role:"alert",name:""+e.id},null,8,["name"])]})),_:2},1032,["label"])})),256)),Object(r["g"])("div",Rn,[Cn,Object(r["g"])("button",{type:"button",class:"btn col-auto ms-auto btn-outline-danger",onClick:n},En,8,Nn)])]})),_:1},8,["onSubmit","onInvalidSubmit","validation-schema"]),Object(r["i"])(O,{class:"m-2",error:o.errors},null,8,["error"])]})),_:1})}var Vn=n("b85c"),Un=(n("4e82"),n("a15b"),n("e9c4"),{class:"form-check"});function Wn(e,t,n,a,o,c){var i=Object(r["I"])("Field");return Object(r["z"])(),Object(r["f"])("div",null,[(Object(r["z"])(!0),Object(r["f"])(r["a"],null,Object(r["G"])(n.options,(function(e){return Object(r["z"])(),Object(r["f"])("div",Un,[Object(r["i"])(i,{name:n.name,type:"radio",value:e},null,8,["name","value"]),Object(r["h"])(" "+Object(r["L"])(e),1)])})),256))])}var $n={class:"form-check"},Dn=["id","name","value"],Mn=["for"];function qn(e,t,n,a,o,c){return Object(r["z"])(),Object(r["f"])("div",$n,[Object(r["X"])(Object(r["g"])("input",{id:o.id,name:n.name,class:"form-check-input",type:"radio",value:n.radioValue,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.value=e})},null,8,Dn),[[r["P"],c.value]]),Object(r["g"])("label",{for:o.id,class:"form-check-label"},[Object(r["H"])(e.$slots,"default")],8,Mn)])}var Gn={name:"BFormRadio",props:{modelValue:String,radioValue:String,name:String},data:function(){return{id:null}},computed:{value:{get:function(){return this.modelValue},set:function(e){return this.$emit("update:modelValue",e)}}},emits:["update:modelValue"],mounted:function(){this.id=this._uid}};const Hn=R()(Gn,[["render",qn]]);var Xn=Hn,Kn={name:"BFormRadioGroup",props:{modelValue:String,options:Array,name:String},computed:{value:{get:function(){return this.modelValue},set:function(e){return this.$emit("update:modelValue",e)}}},components:{BFormRadio:Xn,Field:ht["b"]}};const Jn=R()(Kn,[["render",Wn]]);var Qn=Jn,Zn={class:"form-check"};function Yn(e,t,n,a,o,c){var i=Object(r["I"])("Field");return Object(r["z"])(),Object(r["f"])("div",null,[(Object(r["z"])(!0),Object(r["f"])(r["a"],null,Object(r["G"])(n.options,(function(e){return Object(r["z"])(),Object(r["f"])("div",Zn,[Object(r["i"])(i,{name:n.name,type:"checkbox",value:e},null,8,["name","value"]),Object(r["h"])(" "+Object(r["L"])(e),1)])})),256))])}n("159b"),n("4de4"),n("b64b");function er(e){var t={};return e.forEach((function(e){return t[e]=!1})),t}var tr={name:"BFormCheckboxGroup",props:{modelValue:String,options:Array,name:String},data:function(){return{valuesHolder:Object.assign({},er(this.options))}},methods:{update:function(){var e=this;this.$emit("update:modelValue",Object.keys(this.valuesHolder).filter((function(t){return e.valuesHolder[t]})).join(" "))}},components:{BFormCheckbox:rn,Field:ht["b"]}};const nr=R()(tr,[["render",Yn]]);var rr=nr,ar={class:"row justify-content-center"},or={class:"card p-0 card col-10 col-sm-7 col-md-5 col-lg-4 col-xxl-3"},cr={key:0,class:"card-header"},ir={key:1,class:"card-body"},sr={key:2,class:"card-footer"};function lr(e,t,n,a,o,c){return Object(r["z"])(),Object(r["f"])("div",ar,[Object(r["g"])("div",or,[e.$slots.header?(Object(r["z"])(),Object(r["f"])("div",cr,[Object(r["H"])(e.$slots,"header")])):Object(r["e"])("",!0),e.$slots.body?(Object(r["z"])(),Object(r["f"])("div",ir,[Object(r["H"])(e.$slots,"body")])):Object(r["e"])("",!0),e.$slots.footer?(Object(r["z"])(),Object(r["f"])("div",sr,[Object(r["H"])(e.$slots,"footer")])):Object(r["e"])("",!0)])])}var ur={name:"DataInputPageLayout"};const br=R()(ur,[["render",lr]]);var dr=br,mr=["placeholder","rows"];function pr(e,t,n,a,o,c){var i=Object(r["I"])("Field");return Object(r["z"])(),Object(r["d"])(i,{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.value=e})},{default:Object(r["W"])((function(e){var t=e.field,a=e.meta;return[Object(r["g"])("textarea",Object(r["q"])({class:[{"is-invalid":a.touched&!a.valid},"form-control"],placeholder:n.placeholder},t,{rows:n.rows}),"\n  ",16,mr)]})),_:1},8,["modelValue"])}var Or={name:"BFormTextArea",props:{modelValue:String,rows:{type:Number,default:3},placeholder:String},computed:{value:{get:function(){return this.modelValue},set:function(e){this.$emit("update:modelValue",e)}}},components:{Field:ht["b"]},emits:["update:modelValue"]};const jr=R()(Or,[["render",pr]]);var fr=jr,gr={name:"QuestionnairePage",components:{ServerSideError:On,BFormTextArea:fr,BInvalidFeedback:Ft,BSubmit:ln,DataInputPageLayout:dr,BForm:_t,BFormSelect:Qt,BFormCheckboxGroup:rr,BFormRadioGroup:Qn,BFormInput:Dt,BFormGroup:Nt,ErrorMessage:ht["a"]},data:function(){return{fields:[],response:{},fieldTypes:de,groupableFieldTypes:["SINGLE_LINE_TEXT","DATE"],errors:""}},computed:Object(k["a"])(Object(k["a"])({},Object(a["c"])(["apiUrl","fetchInit"])),{},{schema:function(){var e,t={},n=Object(Vn["a"])(this.fields);try{for(n.s();!(e=n.n()).done;){var r=e.value;console.log(r.id),"CHECKBOX"===r.type?(console.log(r.id+" is "+r.type),r.isRequired?(console.log(r.id+" is "+r.type+" array.req"),t[r.id]=un["array"]().required()):(console.log(r.id+" is "+r.type+" array"),t[r.id]=un["array"]())):r.isRequired?(console.log("req"+r.id+" is "+r.type),t[r.id]=un["string"]().required()):t[r.id]=un["string"]()}}catch(a){n.e(a)}finally{n.f()}return un["object"](t)},sortedFields:function(){return this.fields.sort((function(e,t){return e.id-t.id}))}}),methods:{saveResponse:function(e){var t=this;return Object(ce["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:for(o in r=t.$route.params.id,a=t.apiUrl("/response/"+r),e)e[o]instanceof Array&&(e[o]=e[o].join(" "));return n.next=5,fetch(a,t.fetchInit("post",e));case 5:if(c=n.sent,!c.ok){n.next=10;break}so.push("/success"),n.next=14;break;case 10:return n.next=12,c.json();case 12:i=n.sent,t.errors=i.message;case 14:case"end":return n.stop()}}),n)})))()},onSubmitResponse:function(e){console.log(e),this.saveResponse(e)},onInvalidSubmit:function(e){var t=e.values,n=e.errors,r=e.result;console.log("onInvalidSubmit"),console.log(JSON.stringify(t)),console.log(JSON.stringify(n)),console.log(JSON.stringify(r))},fetchActiveFields:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$route.params.id,r=e.apiUrl("/questionnaire/"+n),t.next=4,fetch(r,e.fetchInit("get"));case 4:return a=t.sent,t.next=7,a.json();case 7:o=t.sent,e.fields=o.fields;case 9:case"end":return t.stop()}}),t)})))()},getFieldTypeInput:function(e){var t={SINGLE_LINE_TEXT:"text",MULTILINE_TEXT:"textarea",RADIO_BUTTON:"radio",CHECKBOX:"checkbox",COMBOBOX:"select",DATE:"date"};return t[e]}},mounted:function(){this.fetchActiveFields()}};const hr=R()(gr,[["render",_n]]);var vr=hr,yr=Object(r["g"])("div",{class:"text-center"},[Object(r["g"])("h3",null,"Thank you!"),Object(r["g"])("p",{class:"fs-3"}," Your response was saved.")],-1);function Ir(e,t,n,a,o,c){var i=Object(r["I"])("DataInputPageLayout");return Object(r["z"])(),Object(r["d"])(i,null,{body:Object(r["W"])((function(){return[yr]})),_:1})}var Sr={name:"SuccessSubmitPage",components:{DataInputPageLayout:dr}};const Pr=R()(Sr,[["render",Ir]]);var wr=Pr,kr={class:"container-md"},Fr={class:"card"},Br=Object(r["g"])("div",{class:"card-header"},[Object(r["g"])("div",{class:"row justify-content-around"},[Object(r["g"])("div",{class:"col-auto me-auto"},[Object(r["g"])("h3",null,"Responses")])])],-1),zr={class:"card-body"},xr={class:"card-footer row bg-transparent mt-0 mb-0"};function Tr(e,t,n,a,o,c){var i=Object(r["I"])("DataTable"),s=Object(r["I"])("PaginationFooter");return Object(r["z"])(),Object(r["f"])("div",kr,[Object(r["g"])("div",Fr,[Br,Object(r["g"])("div",zr,[Object(r["i"])(i,{fields:o.tableFields,items:o.responses,busy:!o.isTableReady},null,8,["fields","items","busy"])]),Object(r["g"])("div",xr,[Object(r["i"])(s,{currentPage:o.currentPage,"onUpdate:currentPage":t[0]||(t[0]=function(e){return o.currentPage=e}),pageSize:o.pageSize,"onUpdate:pageSize":t[1]||(t[1]=function(e){return o.pageSize=e}),"total-elements":o.totalElements,"elements-on-page":o.elementsOnPage,"total-pages":o.totalPages,"page-sizes":[25,10,5,3,2],onChange:t[2]||(t[2]=function(e){return c.fetchResponses()})},null,8,["currentPage","pageSize","total-elements","elements-on-page","total-pages"])])])])}var Rr=n("cc7d"),Cr=n.n(Rr),Nr=n("8030"),Lr={name:"ResponsesPage",data:function(){return{isTableReady:!1,currentPage:0,pageSize:10,totalElements:0,elementsOnPage:0,totalPages:0,tableFields:[],responses:[]}},computed:Object(k["a"])({},Object(a["c"])(["apiUrl","fetchInit"])),methods:{fetchLabels:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.tableFields=[],n=e.apiUrl("/field/label"),t.next=4,fetch(n,e.fetchInit("get"));case 4:return r=t.sent,t.next=7,r.json();case 7:a=t.sent,a.forEach((function(t){return e.tableFields.push({key:t.id,label:t.label})}));case 9:case"end":return t.stop()}}),t)})))()},fetchResponses:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isTableReady=!1,e.responses=[],n=e.apiUrl("/response"),r={page:e.currentPage,size:e.pageSize},n.search=new URLSearchParams(r).toString(),t.next=7,fetch(n,e.fetchInit("get"));case 7:return a=t.sent,t.next=10,a.json();case 10:o=t.sent,e.totalPages=o.totalPages,e.totalElements=o.totalElements,e.elementsOnPage=o.numberOfElements,o.content.forEach((function(t){return e.responses.push(t.responses)})),e.isTableReady=!0;case 16:case"end":return t.stop()}}),t)})))()},addResponseToTable:function(e){console.log("adding "+e+" to tabl3"),this.responses.push(e.responses)}},watch:{currentPage:function(e,t){this.fetchResponses()}},mounted:function(){var e=this;this.fetchLabels(),this.fetchResponses();var t="http://localhost:8080/responses",n=new Cr.a(t),r=Nr["a"].over(n);r.connect({},(function(t){r.subscribe("/topic/responses",(function(t){e.addResponseToTable(JSON.parse(t.body))}))}))},components:{PaginationFooter:Je,DataTable:he}};const Ar=R()(Lr,[["render",Tr]]);var Er=Ar,_r={class:"row justify-content-center"},Vr=Object(r["g"])("div",{class:"mt-2 mb-2"},[Object(r["g"])("h4",{class:"text-center"},"Log In")],-1),Ur={class:"d-flex justify-content-center mt-3"},Wr=Object(r["g"])("label",null,"Don't have account? ",-1),$r=Object(r["h"])("Sign Up");function Dr(e,t,n,a,o,c){var i=Object(r["I"])("Logotype"),s=Object(r["I"])("LoginForm"),l=Object(r["I"])("router-link"),u=Object(r["I"])("DataInputPageLayout");return Object(r["z"])(),Object(r["d"])(u,null,{body:Object(r["W"])((function(){return[Object(r["g"])("div",_r,[Object(r["i"])(i)]),Vr,Object(r["i"])(s),Object(r["g"])("div",Ur,[Wr,Object(r["i"])(l,{to:"/register"},{default:Object(r["W"])((function(){return[$r]})),_:1})])]})),_:1})}var Mr={class:"ps-1 pe-1 row align-items-baseline justify-content-around"},qr=Object(r["h"])(" Remember me "),Gr=Object(r["g"])("div",{class:"col-auto"},[Object(r["g"])("span",{class:"text-primary"},"Forgot your password?")],-1),Hr={class:"d-flex"},Xr=Object(r["h"])("LOG IN");function Kr(e,t,n,a,o,c){var i=Object(r["I"])("BFormInput"),s=Object(r["I"])("BInvalidFeedback"),l=Object(r["I"])("BFormGroup"),u=Object(r["I"])("BFormCheckbox"),b=Object(r["I"])("BSubmit"),d=Object(r["I"])("server-side-error"),m=Object(r["I"])("BForm");return Object(r["z"])(),Object(r["d"])(m,{onSubmit:c.onLogin,"validation-schema":e.getSchema(o.fields)},{default:Object(r["W"])((function(){return[Object(r["i"])(l,null,{default:Object(r["W"])((function(){return[Object(r["i"])(i,{name:"email",type:"email",placeholder:"Email"}),Object(r["i"])(s,{name:"email"})]})),_:1}),Object(r["i"])(l,null,{default:Object(r["W"])((function(){return[Object(r["i"])(i,{name:"password",type:"password",placeholder:"Password"}),Object(r["i"])(s,{name:"password"})]})),_:1}),Object(r["g"])("div",Mr,[Object(r["i"])(l,{class:"col-auto me-auto"},{default:Object(r["W"])((function(){return[Object(r["i"])(u,{name:"rememberMe"},{default:Object(r["W"])((function(){return[qr]})),_:1})]})),_:1}),Gr,Object(r["g"])("div",Hr,[Object(r["i"])(b,{class:"flex-fill"},{default:Object(r["W"])((function(){return[Xr]})),_:1})]),Object(r["i"])(d,{class:"m-2",error:o.error},null,8,["error"])])]})),_:1},8,["onSubmit","validation-schema"])}var Jr={name:"LoginForm",data:function(){return{fields:["email","password"],error:""}},methods:Object(k["a"])(Object(k["a"])({},Object(a["b"])(["login"])),{},{onLogin:function(e){var t=this;this.error="";var n=this.login({email:e.email,password:e.password});n.then((function(e){console.log(e),t.error=e,t.error||t.$router.push("/")}))}}),computed:Object(a["c"])(["getSchema"]),components:{BSubmit:ln,BForm:_t,BFormCheckbox:rn,BFormInput:Dt,BFormGroup:Nt,BInvalidFeedback:Ft,ServerSideError:On}};const Qr=R()(Jr,[["render",Kr]]);var Zr=Qr,Yr={name:"LoginPage",components:{ServerSideError:On,DataInputPageLayout:dr,Logotype:N,LoginForm:Zr}};const ea=R()(Yr,[["render",Dr]]);var ta=ea,na={class:"row justify-content-center"},ra=Object(r["g"])("div",{class:"mt-2"},[Object(r["g"])("h4",{class:"text-center"},"Sign Up")],-1),aa={class:"text-center mt-3"},oa=Object(r["g"])("label",null,"Already have account? ",-1),ca=Object(r["h"])("Log in");function ia(e,t,n,a,o,c){var i=Object(r["I"])("Logotype"),s=Object(r["I"])("RegistrationForm"),l=Object(r["I"])("router-link"),u=Object(r["I"])("DataInputPageLayout");return Object(r["z"])(),Object(r["d"])(u,null,{body:Object(r["W"])((function(){return[Object(r["g"])("div",na,[Object(r["i"])(i)]),ra,Object(r["i"])(s),Object(r["g"])("div",aa,[oa,Object(r["i"])(l,{to:"/login"},{default:Object(r["W"])((function(){return[ca]})),_:1})])]})),_:1})}var sa={class:"d-flex mt-3"},la=Object(r["h"])("SING UP");function ua(e,t,n,a,o,c){var i=Object(r["I"])("BFormInput"),s=Object(r["I"])("BInvalidFeedback"),l=Object(r["I"])("BFormGroup"),u=Object(r["I"])("BSubmit"),b=Object(r["I"])("server-side-error"),d=Object(r["I"])("BForm");return Object(r["z"])(),Object(r["d"])(d,{onSubmit:c.onRegister,"validation-schema":e.getSchema(o.fields)},{default:Object(r["W"])((function(){return[Object(r["i"])(l,null,{default:Object(r["W"])((function(){return[Object(r["i"])(i,{name:"email",type:"email",placeholder:"Email"}),Object(r["i"])(s,{name:"email"})]})),_:1}),Object(r["i"])(l,null,{default:Object(r["W"])((function(){return[Object(r["i"])(i,{name:"password",type:"password",placeholder:"Password"}),Object(r["i"])(s,{name:"password"})]})),_:1}),Object(r["i"])(l,null,{default:Object(r["W"])((function(){return[Object(r["i"])(i,{name:"confirmPassword",type:"password",placeholder:"Confirm Password"}),Object(r["i"])(s,{name:"confirmPassword"})]})),_:1}),Object(r["i"])(l,null,{default:Object(r["W"])((function(){return[Object(r["i"])(i,{name:"firstName",placeholder:"First name"}),Object(r["i"])(s,{name:"firstName"})]})),_:1}),Object(r["i"])(l,null,{default:Object(r["W"])((function(){return[Object(r["i"])(i,{name:"lastName",placeholder:"Last name"}),Object(r["i"])(s,{name:"lastName"})]})),_:1}),Object(r["i"])(l,null,{default:Object(r["W"])((function(){return[Object(r["i"])(i,{name:"phoneNumber",placeholder:"Phone Number"}),Object(r["i"])(s,{name:"phoneNumber"})]})),_:1}),Object(r["g"])("div",sa,[Object(r["i"])(u,{class:"flex-fill"},{default:Object(r["W"])((function(){return[la]})),_:1})]),Object(r["i"])(b,{class:"m-2",error:o.error},null,8,["error"])]})),_:1},8,["onSubmit","validation-schema"])}var ba={name:"RegistrationForm",data:function(){return{fields:["email","password","confirmPassword","firstName","lastName","phoneNumber"],error:""}},methods:Object(k["a"])(Object(k["a"])({},Object(a["b"])(["register"])),{},{onRegister:function(e){var t=this;this.error="";var n={email:e.email,password:e.password,firstName:e.firstName,lastName:e.lastName,phoneNumber:e.phoneNumber},r=this.register(Object.assign({},n));r.then((function(e){console.log(e),t.error=e,t.error||t.$router.push("/")}))}}),computed:Object(a["c"])(["getSchema"]),components:{BSubmit:ln,BForm:_t,BFormGroup:Nt,BFormInput:Dt,BInvalidFeedback:Ft,ServerSideError:On}};const da=R()(ba,[["render",ua]]);var ma=da,pa={name:"RegistrationPage",components:{DataInputPageLayout:dr,RegistrationForm:ma,Logotype:N}};const Oa=R()(pa,[["render",ia]]);var ja=Oa,fa=Object(r["g"])("h4",null,"Change password",-1);function ga(e,t,n,a,o,c){var i=Object(r["I"])("ChangePasswordForm"),s=Object(r["I"])("DataInputPageLayout");return Object(r["z"])(),Object(r["d"])(s,null,{header:Object(r["W"])((function(){return[fa]})),body:Object(r["W"])((function(){return[Object(r["i"])(i)]})),_:1})}var ha=Object(r["h"])("Change");function va(e,t,n,a,o,c){var i=Object(r["I"])("BFormInput"),s=Object(r["I"])("BInvalidFeedback"),l=Object(r["I"])("BFormGroup"),u=Object(r["I"])("BSubmit"),b=Object(r["I"])("ActionCompletedSuccesfully"),d=Object(r["I"])("ServerSideError"),m=Object(r["I"])("BForm");return Object(r["z"])(),Object(r["d"])(m,{onSubmit:c.onSubmitChangePassword,onInvalidSubmit:c.onSubmitInvalid,"validation-schema":c.schema},{default:Object(r["W"])((function(){return[Object(r["i"])(l,{label:"Current password"},{default:Object(r["W"])((function(){return[Object(r["i"])(i,{name:"oldPassword",type:"password"}),Object(r["i"])(s,{name:"oldPassword"})]})),_:1}),Object(r["i"])(l,{label:"New password"},{default:Object(r["W"])((function(){return[Object(r["i"])(i,{name:"newPassword",type:"password"}),Object(r["i"])(s,{name:"newPassword"})]})),_:1}),Object(r["i"])(l,{label:"Confirm new password"},{default:Object(r["W"])((function(){return[Object(r["i"])(i,{name:"confirmNewPassword",type:"password"}),Object(r["i"])(s,{name:"confirmNewPassword"})]})),_:1}),Object(r["i"])(u,null,{default:Object(r["W"])((function(){return[ha]})),_:1}),Object(r["i"])(b,{class:"m-2",ok:o.isActionCompleted},null,8,["ok"]),Object(r["i"])(d,{class:"m-2",error:o.error},null,8,["error"])]})),_:1},8,["onSubmit","onInvalidSubmit","validation-schema"])}var ya={class:"alert alert-success",role:"alert"},Ia=Object(r["h"])(" Successfully completed ");function Sa(e,t,n,a,o,c){return Object(r["X"])((Object(r["z"])(),Object(r["f"])("div",ya,[Object(r["H"])(e.$slots,"default",{},(function(){return[Ia]}))],512)),[[r["S"],n.ok]])}var Pa={name:"ActionCompletedSuccesfully",props:{ok:{type:Boolean,required:!0}}};const wa=R()(Pa,[["render",Sa]]);var ka=wa,Fa={name:"ChangePasswordForm",data:function(){return{isActionCompleted:!1,error:""}},computed:Object(k["a"])(Object(k["a"])({},Object(a["c"])(["getRulesPreset"])),{},{schema:function(){return un["object"]({oldPassword:this.getRulesPreset("password")(un),newPassword:this.getRulesPreset("password")(un),confirmNewPassword:this.getRulesPreset("password")(un).oneOf([un["ref"]("newPassword"),null],"New passwords doesn't math")})}}),methods:Object(k["a"])(Object(k["a"])({},Object(a["b"])(["changePassword"])),{},{onSubmitChangePassword:function(e){var t=this;this.isActionCompleted=!1;var n=this.changePassword({oldPassword:e.oldPassword,newPassword:e.newPassword});n.then((function(e){t.error=e,t.error||(t.isActionCompleted=!0)}))},onSubmitInvalid:function(){this.isActionCompleted=!1}}),components:{BSubmit:ln,BFormInput:Dt,BFormGroup:Nt,BForm:_t,BInvalidFeedback:Ft,ActionCompletedSuccesfully:ka,ServerSideError:On}};const Ba=R()(Fa,[["render",va]]);var za=Ba,xa={name:"ChangePasswordPage",components:{DataInputPageLayout:dr,ChangePasswordForm:za}};const Ta=R()(xa,[["render",ga]]);var Ra=Ta,Ca=Object(r["g"])("h4",null,"Edit profile",-1);function Na(e,t,n,a,o,c){var i=Object(r["I"])("EditProfileForm"),s=Object(r["I"])("DataInputPageLayout");return Object(r["z"])(),Object(r["d"])(s,null,{header:Object(r["W"])((function(){return[Ca]})),body:Object(r["W"])((function(){return[Object(r["i"])(i)]})),_:1})}var La={class:"mt-3"},Aa=Object(r["h"])("SAVE");function Ea(e,t,n,a,o,c){var i=Object(r["I"])("BFormInput"),s=Object(r["I"])("BInvalidFeedback"),l=Object(r["I"])("BFormGroup"),u=Object(r["I"])("BSubmit"),b=Object(r["I"])("ActionCompletedSuccesfully"),d=Object(r["I"])("ServerSideError"),m=Object(r["I"])("BForm");return Object(r["z"])(),Object(r["d"])(m,{onSubmit:c.onSubmitProfileChanges,onInvalidSubmit:c.onSubmitInvalid,initialValues:e.user,"validation-schema":e.getSchema(o.fields)},{default:Object(r["W"])((function(){return[Object(r["i"])(l,{label:"First name"},{default:Object(r["W"])((function(){return[Object(r["i"])(i,{name:"firstName",placeholder:"First name"}),Object(r["i"])(s,{name:"firstName"})]})),_:1}),Object(r["i"])(l,{label:"Last name"},{default:Object(r["W"])((function(){return[Object(r["i"])(i,{name:"lastName",placeholder:"Last name"}),Object(r["i"])(s,{name:"lastName"})]})),_:1}),Object(r["i"])(l,{label:"Email"},{default:Object(r["W"])((function(){return[Object(r["i"])(i,{name:"email",type:"email",placeholder:"Email"}),Object(r["i"])(s,{name:"email"})]})),_:1}),Object(r["i"])(l,{label:"Phone Number"},{default:Object(r["W"])((function(){return[Object(r["i"])(i,{name:"phoneNumber",placeholder:"Phone Number"}),Object(r["i"])(s,{name:"phoneNumber"})]})),_:1}),Object(r["g"])("div",La,[Object(r["i"])(u,{class:"col-4"},{default:Object(r["W"])((function(){return[Aa]})),_:1})]),Object(r["i"])(b,{class:"m-2",ok:o.isActionCompleted},null,8,["ok"]),Object(r["i"])(d,{class:"m-2",error:o.error},null,8,["error"])]})),_:1},8,["onSubmit","onInvalidSubmit","initialValues","validation-schema"])}var _a={name:"EditProfileForm",data:function(){return{fields:["email","firstName","lastName","phoneNumber"],error:"",isActionCompleted:!1}},computed:Object(k["a"])({},Object(a["c"])(["isAuth","user","getSchema"])),methods:Object(k["a"])(Object(k["a"])({},Object(a["b"])(["editProfile"])),{},{onSubmitProfileChanges:function(e){var t=this;this.isActionCompleted=!1;var n=this.editProfile(e);n.then((function(e){console.log(e),t.error=e,t.error||(t.isActionCompleted=!0)}))},onSubmitInvalid:function(e){this.isActionCompleted=!1}}),components:{ActionCompletedSuccesfully:ka,ServerSideError:On,BFormInput:Dt,BFormGroup:Nt,BSubmit:ln,BInvalidFeedback:Ft,BForm:_t}};const Va=R()(_a,[["render",Ea]]);var Ua=Va,Wa={name:"EditProfilePage",components:{EditProfileForm:Ua,RegistrationForm:ma,DataInputPageLayout:dr}};const $a=R()(Wa,[["render",Na]]);var Da=$a;function Ma(e,t,n,r,a,o){return null}var qa={name:"CardLayout"};const Ga=R()(qa,[["render",Ma]]);var Ha=Ga,Xa=(n("2b3d"),{baseApiUrl:"http://localhost:8080/api/v1",buildUrl:function(e){return new URL([this.baseApiUrl,e].join("/"))},fetchInit:function(e,t){var n={method:e};return t&&(n["body"]=JSON.stringify(t)),n}}),Ka=Xa,Ja="field";function Qa(e,t){return Za.apply(this,arguments)}function Za(){return Za=Object(ce["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,o,c,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Ka.buildUrl(Ja),a={page:t,size:n},r.search=new URLSearchParams(a).toString(),e.next=5,fetch(r,Ka.fetchInit("get"));case 5:return o=e.sent,e.next=8,o.json();case 8:return s=e.sent,o.ok?c={fields:s.content,totalPages:s.totalPages,totalElements:s.totalElements,elementsOnPage:s.numberOfElements}:i=s.error,e.abrupt("return",{res:c,err:i});case 11:case"end":return e.stop()}}),e)}))),Za.apply(this,arguments)}var Ya=Qa(0,3);console.log(Ya);var eo=Ya.res,to=Ya.err;to?(console.log("error"),console.log(to)):(console.log("all is ok"),console.log(eo));ht["b"],ht["c"],ht["a"];ht["c"],ht["b"];ht["c"],ht["b"];function no(e,t,n,a,o,c){var i=Object(r["I"])("Field"),s=Object(r["I"])("BFormTextArea"),l=Object(r["I"])("Form"),u=Object(r["I"])("data-input-page-layout");return Object(r["z"])(),Object(r["d"])(u,null,{body:Object(r["W"])((function(){return[Object(r["i"])(l,{initialValues:{field:"123",textarea:"123"}},{default:Object(r["W"])((function(e){var t=e.values;return[Object(r["g"])("div",null,Object(r["L"])(t),1),Object(r["i"])(i,{name:"field"}),Object(r["i"])(s,{name:"textarea"})]})),_:1})]})),_:1})}var ro={name:"TextAreaTest",data:function(){return{cb:!0}},components:{BFormTextArea:fr,BFormCheckbox:rn,DataInputPageLayout:dr,Form:ht["c"],Field:ht["b"]}};const ao=R()(ro,[["render",no]]);var oo=ao,co=[{path:"/",component:Tn,children:[],meta:{title:"Fields"}},{path:"/fields",name:"Fields",component:Tn,meta:{title:"Fields"}},{path:"/questionnaire/:id",name:"Questionnaire",component:vr,meta:{title:"Questionnaire"}},{path:"/responses",name:"Responses",component:Er,meta:{title:"Responses"}},{path:"/success",name:"Success",component:wr,meta:{title:"Success"}},{path:"/changePassword",name:"ChangePassword",component:Ra,meta:{title:"Change password"}},{path:"/editProfile",name:"EditProfile",component:Da,meta:{title:"Edit Profile"}},{path:"/login",name:"Login",component:ta,meta:{title:"Login"}},{path:"/register",name:"Register",component:ja,meta:{title:"Register"}},{path:"/test",name:"Test",component:oo,meta:{title:"Test"}}],io=Object(_["a"])({history:Object(_["b"])(),routes:co}),so=io,lo={state:function(){return{baseApiUrl:"/api/v1",baseHeaders:{Accept:"application/json","Content-Type":"application/json"},authTokenKey:"authToken",authToken:"",userKey:"user",user:{email:null,firstName:null,lastName:null,phoneNumber:null}}},mutations:{updateToken:function(e,t){t?(e.authToken=t,localStorage.setItem(e.authTokenKey,e.authToken)):(e.authToken="",localStorage.removeItem(e.authTokenKey))},updateUser:function(e,t){for(var n in console.log("updating user: to"+t),console.log(t),console.log("updating user: from"),console.log(e.user),t)t[n]&&(e.user[n]=t[n]);console.log(e.user),console.log(JSON.stringify(e.user)),localStorage.setItem(e.userKey,JSON.stringify(e.user))},initialiseState:function(e){e.authToken=localStorage.getItem(e.authTokenKey),e.user=JSON.parse(localStorage.getItem(e.userKey))||{email:null,firstName:null,lastName:null,phoneNumber:null}},saveState:function(e){e.authToken&&localStorage.setItem(e.authTokenKey,e.authToken),e.user&&localStorage.setItem(e.userKey,JSON.stringify(e.user))},clearUser:function(e){e.user={email:null,firstName:null,lastName:null,phoneNumber:null},localStorage.setItem(e.userKey,JSON.stringify(e.user))}},actions:{login:function(e,t){return Object(ce["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.getters,e.state,o=t.email,c=t.password,n.next=4,fetch(a.apiUrl("/auth/signin"),a.fetchInit("post",{email:o,password:c}));case 4:return i=n.sent,n.next=7,i.json();case 7:if(s=n.sent,console.log(s),!i.ok){n.next=16;break}return r("updateToken",s.token),console.log(s["user"]),r("updateUser",s["user"]),n.abrupt("return","");case 16:return n.abrupt("return",s.message);case 17:case"end":return n.stop()}}),n)})))()},register:function(e,t){return Object(ce["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.getters,n.next=3,fetch(a.apiUrl("/auth/register"),a.fetchInit("post",t));case 3:return o=n.sent,n.next=6,o.json();case 6:if(c=n.sent,!o.ok){n.next=13;break}return r("updateToken",c.token),r("updateUser",c["user"]),n.abrupt("return","");case 13:return n.abrupt("return",c.message);case 14:case"end":return n.stop()}}),n)})))()},editProfile:function(e,t){return Object(ce["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.getters,e.state,n.next=3,fetch(a.apiUrl("/user"),a.fetchInit("put",t));case 3:return o=n.sent,n.next=6,o.json();case 6:if(c=n.sent,console.log(c),!o.ok){n.next=13;break}return r("updateUser",t),n.abrupt("return","");case 13:return n.abrupt("return",c.message);case 14:case"end":return n.stop()}}),n)})))()},changePassword:function(e,t){return Object(ce["a"])(regeneratorRuntime.mark((function n(){var r,a,o,c,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.commit,r=e.getters,e.state,a=t.oldPassword,o=t.newPassword,console.log(a),console.log(o),n.next=6,fetch(r.apiUrl("/user/changePassword"),r.fetchInit("post",{oldPassword:a,newPassword:o}));case 6:return c=n.sent,n.next=9,c.json();case 9:if(i=n.sent,console.log(i),!c.ok){n.next=15;break}return n.abrupt("return","");case 15:return n.abrupt("return",i.message);case 16:case"end":return n.stop()}}),n)})))()},logout:function(e){return Object(ce["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,e.state,n("updateToken",""),n("clearUser"),t.next=5,so.push("/login");case 5:case"end":return t.stop()}}),t)})))()}},getters:{user:function(e){return e.user},isAuth:function(e){return!!e.authToken},apiUrl:function(e){return function(t){return new URL(e.baseApiUrl+t)}},headers:function(e,t){return t.isAuth?Object.assign({},e.baseHeaders,{Authorization:"Bearer "+e.authToken}):Object.assign({},e.baseHeaders)},fetchInit:function(e,t){return function(e,n){var r={method:e,headers:t.headers};return n&&(r["body"]=JSON.stringify(n)),r}}}},uo={name:"App",data:function(){return{authToken:String}},components:{NavigationHeader:E},beforeCreate:function(){this.$store.commit("initialiseState")},unmounted:function(){this.$store.commit("saveState")}};const bo=R()(uo,[["render",i]]);var mo=bo,po={state:function(){var e=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/;return{rulesPreset:{email:function(e){return e.string().required().email()},password:function(e){return e.string().required().min(6).max(60)},confirmPassword:function(e){return e.string().oneOf([un["ref"]("password"),null],"Passwords does not math").required().min(6).max(60)},firstName:function(e){return e.string().min(2).max(30)},lastName:function(e){return e.string().min(2).max(30)},phoneNumber:function(t){return t.string().nullable().matches(e,"Phone number is not valid")}}}},getters:{getRulesPreset:function(e){return function(t){return e.rulesPreset[t]}},getSchema:function(e,t){return function(e){var n,r={},a=Object(Vn["a"])(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;r[o]=t.getRulesPreset(o)(un)}}catch(c){a.e(c)}finally{a.f()}return un["object"](r)}}}},Oo={modules:{auth:lo,validation:po}},jo=(n("4989"),Object(a["a"])(Oo)),fo=Object(r["c"])(mo);fo.use(so),fo.use(jo);fo.mount("#app");so.beforeEach((function(e,t,n){document.title=e.meta.title,n()})),so.beforeEach((function(e,t,n){console.log("beforeEach",e.path+" - Auth: "+jo.getters.isAuth),e.path.match("/questionnaire/\\d*")||"/questionnaire"===e.path||"/success/"===e.path||"/success"===e.path?(console.log("next"),n()):"/login"===e.path||"login"===e.path||"/register"===e.path||"register"===e.path||jo.getters.isAuth?"/register"!==e.path&&"register"!==e.path&&"/login"!==e.path&&"login"!==e.path||!jo.getters.isAuth?n():n({path:"/"}):n({path:"/login"})}))},"5d7a":function(e,t,n){},"83e6":function(e,t,n){"use strict";n("5d7a")}});
//# sourceMappingURL=app.e06271c8.js.map